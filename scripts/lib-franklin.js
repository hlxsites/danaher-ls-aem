function sampleRUM(e,t={}){sampleRUM.defer=sampleRUM.defer||[];var a,o,n,l,s,r,i,c,d,u=t=>{sampleRUM[t]=sampleRUM[t]||((...e)=>sampleRUM.defer.push({fnname:t,args:e}))};sampleRUM.drain=sampleRUM.drain||((t,e)=>{sampleRUM[t]=e,sampleRUM.defer.filter(({fnname:e})=>t===e).forEach(({fnname:e,args:t})=>sampleRUM[e](...t))}),sampleRUM.always=sampleRUM.always||[],sampleRUM.always.on=(e,t)=>{sampleRUM.always[e]=t},sampleRUM.on=(e,t)=>{sampleRUM.cases[e]=t},u("observe"),u("cwv");try{window.hlx=window.hlx||{},window.hlx.rum||(a="on"===new URLSearchParams(window.location.search).get("rum")?1:20,o=Array.from({length:75},(e,t)=>String.fromCharCode(48+t)).filter(e=>/\d|[A-Z]/i.test(e)).filter(()=>70<75*Math.random()).join(""),l=(n=Math.random())*a<1,s=Date.now(),r={full:()=>window.location.href,origin:()=>window.location.origin,path:()=>window.location.href.replace(/\?.*$/,"")},window.hlx.rum={weight:a,id:o,random:n,isSelected:l,firstReadTime:s,sampleRUM:sampleRUM,sanitizeURL:r[window.hlx.RUM_MASK_URL||"path"]});const{weight:m,id:p,firstReadTime:h}=window.hlx.rum;if(window.hlx&&window.hlx.rum&&window.hlx.rum.isSelected){const w=["weight","id","referer","checkpoint","t","source","target","cwv","CLS","FID","LCP","INP"];sampleRUM.cases=sampleRUM.cases||{cwv:()=>sampleRUM.cwv(t)||!0,lazy:()=>{var e=document.createElement("script");return e.src="https://rum.hlx.page/.rum/@adobe/helix-rum-enhancer@^1/src/index.js",document.head.appendChild(e),!0}},[i=t]=[t],c=JSON.stringify({weight:m,id:p,referer:window.hlx.rum.sanitizeURL(),checkpoint:e,t:Date.now()-h,...t},w),d="https://rum.hlx.page/.rum/"+m,navigator.sendBeacon(d,c),console.debug("ping:"+e,i),sampleRUM.cases[e]&&sampleRUM.cases[e]()}sampleRUM.always[e]&&sampleRUM.always[e](t)}catch(e){}}async function loadCSS(o){return new Promise((e,t)=>{var a;document.querySelector(`head > link[href="${o}"]`)?e():((a=document.createElement("link")).rel="stylesheet",a.href=o,a.onload=e,a.onerror=t,document.head.append(a))})}async function loadScript(n,l){return new Promise((e,t)=>{if(document.querySelector(`head > script[src="${n}"]`))e();else{var a=document.createElement("script");if(a.src=n,l)for(const o in l)a.setAttribute(o,l[o]);a.onload=e,a.onerror=t,document.head.append(a)}})}function getMetadata(e){var t=e&&e.includes(":")?"property":"name";return[...document.head.querySelectorAll(`meta[${t}="${e}"]`)].map(e=>e.content).join(", ")||""}function toClassName(e){return"string"==typeof e?e.toLowerCase().replace(/[^0-9a-z]/gi,"-").replace(/-+/g,"-").replace(/^-|-$/g,""):""}function toCamelCase(e){return toClassName(e).replace(/-([a-z])/g,e=>e[1].toUpperCase())}function getAllMetadata(a){return[...document.head.querySelectorAll(`meta[property^="${a}:"],meta[name^="${a}-"]`)].reduce((e,t)=>{return e[toClassName(t.name?t.name.substring(a.length+1):t.getAttribute("property").split(":")[1])]=t.getAttribute("content"),e},{})}const ICONS_CACHE={};async function decorateIcons(e){let t=document.getElementById("franklin-svg-sprite");t||((a=document.createElement("div")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" id="franklin-svg-sprite" style="display: none"></svg>',t=a.firstElementChild,document.body.append(a.firstElementChild));var a=[...e.querySelectorAll("span.icon")],e=(await Promise.all(a.map(async t=>{t=Array.from(t.classList).find(e=>e.startsWith("icon-")).substring(5);if(!ICONS_CACHE[t]){ICONS_CACHE[t]=!0;try{let e=window.hlx.codeBasePath+`/icons/${t}.svg`;t.startsWith("dam-")&&(a=window.location.hostname.includes("lifesciences.danaher.com"),e=a?"":"https://lifesciences.danaher.com",e+=`/content/dam/danaher/system/icons/${t.substring(4).replace("_"," ")}.svg`);var a,o,n=await fetch(e);n.ok?(o=await n.text()).match(/(<style | class=)/)?ICONS_CACHE[t]={styled:!0,html:o}:ICONS_CACHE[t]={html:o.replace("<svg",`<symbol id="icons-sprite-${t}"`).replace(/ width=".*?"/,"").replace(/ height=".*?"/,"").replace("</svg>","</symbol>")}:ICONS_CACHE[t]=!1}catch(e){ICONS_CACHE[t]=!1,console.error(e)}}})),Object.keys(ICONS_CACHE).filter(e=>!t.querySelector("#icons-sprite-"+e)).map(e=>ICONS_CACHE[e]).filter(e=>!e.styled).map(e=>e.html).join("\n"));t.innerHTML+=e,a.forEach(e=>{var t=Array.from(e.classList).find(e=>e.startsWith("icon-")).substring(5),e="A"===e.firstElementChild?.tagName?e.firstElementChild:e;ICONS_CACHE[t].styled?e.innerHTML=ICONS_CACHE[t].html:e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg"><use href="#icons-sprite-${t}"/></svg>`})}async function fetchPlaceholders(o="default"){return window.placeholders=window.placeholders||{},window.placeholders[o+"-loaded"]||(window.placeholders[o+"-loaded"]=new Promise((a,t)=>{fetch(`${"default"===o?"":o}/placeholders.json`).then(e=>{if(e.ok)return e.json();throw new Error(e.status+": "+e.statusText)}).then(e=>{const t={};e.data.filter(e=>e.Key).forEach(e=>{t[toCamelCase(e.Key)]=e.Text}),window.placeholders[o]=t,a()}).catch(e=>{window.placeholders[o]={},t(e)})})),await window.placeholders[o+"-loaded"],window.placeholders[o]}function decorateBlock(e){var t=e.classList[0];t&&(e.classList.add("block"),e.dataset.blockName=t,e.dataset.blockStatus="initialized",e.parentElement.classList.add(t+"-wrapper"),e=e.closest(".section"))&&e.classList.add(t+"-container")}function readBlockConfig(e){const l={};return e.querySelectorAll(":scope > div").forEach(t=>{if(t.children){var a=[...t.children];if(a[1]){var o,n=a[1],a=toClassName(a[0].textContent);let e="";e=n.querySelector("a")?1===(o=[...n.querySelectorAll("a")]).length?o[0].href:o.map(e=>e.href):n.querySelector("img")?1===(o=[...n.querySelectorAll("img")]).length?o[0].src:o.map(e=>e.src):n.querySelector("p")?1===(o=[...n.querySelectorAll("p")]).length?o[0].textContent:o.map(e=>e.textContent):t.children[1].textContent,l[a]=e}}}),l}function decorateSections(e){e.querySelectorAll(":scope > div").forEach(t=>{const a=[];let o=!1;[...t.children].forEach(e=>{var t;"DIV"!==e.tagName&&o||(t=document.createElement("div"),a.push(t),(o="DIV"!==e.tagName)&&t.classList.add("default-content-wrapper")),a[a.length-1].append(e)}),a.forEach(e=>t.append(e)),t.classList.add("section"),t.dataset.sectionStatus="initialized",t.style.display="none";var e=t.querySelector("div.section-metadata");if(e){const n=readBlockConfig(e);Object.keys(n).forEach(e=>{"style"===e?n.style.split(",").map(e=>toClassName(e.trim())).forEach(e=>t.classList.add(e)):t.dataset[toCamelCase(e)]=n[e]}),e.parentNode.remove()}})}function updateSectionsStatus(e){var t=[...e.querySelectorAll(":scope > div.section")];for(let e=0;e<t.length;e+=1){var a=t[e];if("loaded"!==a.dataset.sectionStatus){if(a.querySelector('.block[data-block-status="initialized"], .block[data-block-status="loading"]')){a.dataset.sectionStatus="loading";break}a.dataset.sectionStatus="loaded",a.style.display=null}}}function decorateBlocks(e){e.querySelectorAll("div.section > div > div").forEach(decorateBlock)}function buildBlock(e,t){t=Array.isArray(t)?t:[[t]];const o=document.createElement("div");return o.classList.add(e),t.forEach(e=>{const a=document.createElement("div");e.forEach(e=>{const t=document.createElement("div");(e.elems||[e]).forEach(e=>{e&&("string"==typeof e?t.innerHTML+=e:t.appendChild(e))}),a.appendChild(t)}),o.appendChild(a)}),o}async function loadModule(a,o,e,...n){var e=e?loadCSS(e):Promise.resolve(),t=o?new Promise(t=>{(async()=>{let e;try{(e=await import(o)).default&&await e.default.apply(null,n)}catch(e){console.log("failed to load module for "+a,e)}t(e)})()}):Promise.resolve();return Promise.all([e,t]).then(([,e])=>e)}function getBlockConfig(e){var e=e.dataset["blockName"],t=e?window.hlx.codeBasePath+`/blocks/${e}/${e}.js`:"",a=e?window.hlx.codeBasePath+`/blocks/${e}/${e}.css`:"";const o={blockName:e,jsPath:t};return(window.hlx.patchBlockConfig||[]).filter(e=>"function"==typeof e).reduce((e,t)=>t(e,o),{blockName:e,jsPath:t,cssPath:a})}const blockNames=new Set;async function loadBlock(e){var t=e.dataset.blockStatus;if("loading"!==t&&"loaded"!==t){e.dataset.blockStatus="loading";var{blockName:t,jsPath:a,cssPath:o}=getBlockConfig(e);try{blockNames.contains(t)?await loadModule(t,a,void 0,e):await loadModule(t,a,o,e)}catch(e){console.log("failed to load block "+t,e)}e.dataset.blockStatus="loaded"}}async function loadBlocks(t){updateSectionsStatus(t);var a=[...t.querySelectorAll("div.block")];for(let e=0;e<a.length;e+=1)await loadBlock(a[e]),updateSectionsStatus(t)}function createOptimizedPicture(e,a="",o=!1,n=[{media:"(min-width: 600px)",width:"2000"},{width:"750"}]){e=new URL(e,window.location.href);const l=document.createElement("picture"),s=e["pathname"],r=s.substring(s.lastIndexOf(".")+1);return n.forEach(e=>{var t=document.createElement("source");e.media&&t.setAttribute("media",e.media),t.setAttribute("type","image/webp"),t.setAttribute("srcset",`${s}?width=${e.width}&format=webply&optimize=medium`),l.appendChild(t)}),n.forEach((e,t)=>{t<n.length-1?(t=document.createElement("source"),e.media&&t.setAttribute("media",e.media),t.setAttribute("srcset",`${s}?width=${e.width}&format=${r}&optimize=medium`),l.appendChild(t)):((t=document.createElement("img")).setAttribute("loading",o?"eager":"lazy"),t.setAttribute("alt",a),l.appendChild(t),t.setAttribute("src",`${s}?width=${e.width}&format=${r}&optimize=medium`))}),l}function normalizeHeadings(e,t){const o=t.map(e=>e.toLowerCase());e.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(t=>{var a=t.tagName.toLowerCase();if(-1===o.indexOf(a)){let e=parseInt(a.charAt(1),10)-1;for(;-1===o.indexOf("h"+e)&&0<e;)--e;if(0===e)for(;-1===o.indexOf("h"+e)&&e<7;)e+=1;7!==e&&(t.outerHTML=`<h${e} id="${t.id}">${t.textContent}</h${e}>`)}})}function decorateTemplateAndTheme(){var e=(t,e)=>{e.split(",").forEach(e=>{t.classList.add(toClassName(e.trim()))})},t=getMetadata("template"),t=(t&&e(document.body,t),getMetadata("theme"));t&&e(document.body,t)}function decorateButtons(e){e.querySelectorAll("a").forEach(e=>{var t,a;e.title=e.title||e.textContent,e.href!==e.textContent&&"link"!==e.title&&(t=e.parentElement,a=e.parentElement.parentElement,e.querySelector("img")||"LI"===a.tagName||e.closest(".call-to-action")||e.closest(".mini-teasers")||e.closest(".bg-color-right")||(1!==t.childNodes.length||"P"!==t.tagName&&"DIV"!==t.tagName||(e.className="btn btn-outline-primary",t.classList.add("button-container")),1===t.childNodes.length&&"STRONG"===t.tagName&&1===a.childNodes.length&&"P"===a.tagName&&(e.className="btn btn-outline-primary",a.classList.add("button-container")),1===t.childNodes.length&&"EM"===t.tagName&&1===a.childNodes.length&&"P"===a.tagName&&(e.className="btn btn-outline-secondary",a.classList.add("button-container"))))})}async function waitForLCP(e){var t=document.querySelector(".block");t&&e.includes(t.dataset.blockName)&&await loadBlock(t),document.body.style.display=null;const a=document.querySelector("main img");await new Promise(e=>{a&&!a.complete?(a.setAttribute("loading","eager"),a.addEventListener("load",e),a.addEventListener("error",e)):e()})}function loadHeader(e){var t=buildBlock("header","");return e.append(t),decorateBlock(t),loadBlock(t)}function loadFooter(e){var t=buildBlock("footer","");return e.append(t),decorateBlock(t),loadBlock(t)}function parsePluginParams(e,t){var a=t?e:e.split("/").splice(e.endsWith("/")?-2:-1,1)[0].replace(/\.js/,""),t={load:"eager",..."string"!=typeof t&&t?t:{url:(t||e).replace(/\/$/,"")}};return t.options||={},{id:a,config:t}}blockNames.add("product-hero");const executionContext={createOptimizedPicture:createOptimizedPicture,getAllMetadata:getAllMetadata,getMetadata:getMetadata,decorateBlock:decorateBlock,decorateButtons:decorateButtons,decorateIcons:decorateIcons,loadBlock:loadBlock,loadCSS:loadCSS,loadScript:loadScript,sampleRUM:sampleRUM,toCamelCase:toCamelCase,toClassName:toClassName};class PluginsRegistry{#plugins;constructor(){this.#plugins=new Map}add(e,t){var{id:e,config:t}=parsePluginParams(e,t);this.#plugins.set(e,t)}get(e){return this.#plugins.get(e)}includes(e){return!!this.#plugins.has(e)}async load(t){return[...this.#plugins.entries()].filter(([,e])=>e.condition&&!e.condition(document,e.options,executionContext)).map(([e])=>this.#plugins.delete(e)),Promise.all([...this.#plugins.entries()].filter(([,e])=>(!e.condition||e.condition(document,e.options,executionContext))&&t===e.load&&e.url).map(async([t,e])=>{try{var a=await loadModule(t,e.url.endsWith(".js")?e.url:e.url+`/${t}.js`,e.url.endsWith(".js")?null:e.url+`/${t}.css`,document,e.options,executionContext)||{};this.#plugins.set(t,{...e,...a})}catch(e){console.error("Could not load specified plugin",t)}}))}async run(a){return[...this.#plugins.values()].reduce((e,t)=>!t[a]||t.condition&&!t.condition(document,t.options,executionContext)?e:e.then(()=>t[a](document,t.options,executionContext)),Promise.resolve())}}class TemplatesRegistry{add(e,t){if(Array.isArray(e))e.forEach(e=>window.hlx.templates.add(e));else{const{id:a,config:o}=parsePluginParams(e,t);o.condition=()=>toClassName(getMetadata("template"))===a,window.hlx.plugins.add(a,o)}}get(e){return window.hlx.plugins.get(e)}includes(e){return window.hlx.plugins.includes(e)}}function setup(){window.hlx=window.hlx||{},window.hlx.RUM_MASK_URL="full",window.hlx.codeBasePath="",window.hlx.lighthouse="on"===new URLSearchParams(window.location.search).get("lighthouse"),window.hlx.patchBlockConfig=[],window.hlx.plugins=new PluginsRegistry,window.hlx.templates=new TemplatesRegistry;var e=document.querySelector('script[src$="/scripts/scripts.js"]');if(e)try{[window.hlx.codeBasePath]=new URL(e.src).pathname.split("/scripts/scripts.js")}catch(e){console.log(e)}}function init(){setup(),sampleRUM("top"),window.addEventListener("load",()=>sampleRUM("load")),window.addEventListener("unhandledrejection",e=>{sampleRUM("error",{source:e.reason.sourceURL,target:e.reason.line})}),window.addEventListener("error",e=>{sampleRUM("error",{source:e.filename,target:e.lineno})})}init();export{sampleRUM,loadCSS,loadScript,getMetadata,toClassName,toCamelCase,getAllMetadata,decorateIcons,fetchPlaceholders,decorateBlock,readBlockConfig,decorateSections,updateSectionsStatus,decorateBlocks,buildBlock,loadBlock,loadBlocks,createOptimizedPicture,normalizeHeadings,decorateTemplateAndTheme,decorateButtons,waitForLCP,loadHeader,loadFooter,executionContext,setup};