{"version":3,"names":["atomicInsightResultCss","AtomicInsightResult","this","density","imageSize","classes","resolveResult","event","preventDefault","stopPropagation","detail","result","resolveInteractiveResult","interactiveResult","resolveStopPropagation","resolveResultDisplayConfig","connectedCallback","layout","ResultLayout","content","children","getContentHTML","Array","from","map","child","outerHTML","join","render","h","Host","class","resultComponentClass","getClasses","concat","innerHTML","componentDidLoad","loadingFlag","store","unsetLoadingFlag","applyFocusVisiblePolyfill","host"],"sources":["src/components/insight/atomic-insight-result/atomic-insight-result.pcss?tag=atomic-insight-result&encapsulation=shadow","src/components/insight/atomic-insight-result/atomic-insight-result.tsx"],"sourcesContent":["@import '../../common/result/result.pcss';\n\n:host {\n  @apply relative;\n\n  .with-sections:not(.child-result) {\n    @apply p-6;\n  }\n\n  &(:hover) {\n    .with-sections {\n      background-color: var(--atomic-neutral-lighter);\n    }\n\n    atomic-insight-result-action-bar {\n      @apply visible;\n    }\n  }\n\n  &(:first-of-type) {\n    .with-sections:not(.child-result) {\n      @apply pt-8;\n    }\n\n    atomic-insight-result-action-bar {\n      @apply top-0;\n    }\n  }\n\n  atomic-load-more-children-results::part(button) {\n    margin-bottom: 0;\n    padding: 0.2rem 0.5rem;\n  }\n}\n","import {Component, h, Prop, Element, Listen, Host} from '@stencil/core';\nimport {InsightResult, InsightInteractiveResult, InsightFoldedResult} from '..';\nimport {applyFocusVisiblePolyfill} from '../../../utils/initialization-utils';\nimport {\n  ResultLayout,\n  ResultDisplayDensity,\n  ResultDisplayImageSize,\n} from '../../common/layout/display-options';\nimport {resultComponentClass} from '../../common/result-list/result-list-common';\nimport {\n  DisplayConfig,\n  InteractiveResultContextEvent,\n  ResultContextEvent,\n} from '../../search/result-template-components/result-template-decorators';\nimport {AtomicInsightStore} from '../atomic-insight-interface/store';\n\n/**\n * @internal\n */\n@Component({\n  tag: 'atomic-insight-result',\n  styleUrl: 'atomic-insight-result.pcss',\n  shadow: true,\n})\nexport class AtomicInsightResult {\n  private layout!: ResultLayout;\n  @Element() host!: HTMLElement;\n\n  /**\n   * Whether an atomic-result-link inside atomic-insight-result should stop click event propagation.\n   */\n  @Prop() stopPropagation?: boolean;\n\n  /**\n   * The result item.\n   */\n  @Prop() result!: InsightResult | InsightFoldedResult;\n\n  /**\n   * The InteractiveResult item.\n   * @internal\n   */\n  @Prop() interactiveResult!: InsightInteractiveResult;\n\n  /**\n   * Global Atomic state.\n   * @internal\n   */\n  @Prop() store?: AtomicInsightStore;\n\n  /**\n   * The result content to display.\n   */\n  @Prop() content?: ParentNode;\n\n  /**\n   * How large or small results should be.\n   */\n  @Prop() density: ResultDisplayDensity = 'normal';\n\n  /**\n   * The size of the visual section in result list items.\n   *\n   * This is overwritten by the image size defined in the result content, if it exists.\n   */\n  @Prop() imageSize: ResultDisplayImageSize = 'icon';\n\n  /**\n   * The classes to add to the result element.\n   */\n  @Prop() classes = '';\n\n  /**\n   * @internal\n   */\n  @Prop() loadingFlag?: string;\n\n  @Listen('atomic/resolveResult')\n  public resolveResult(\n    event: ResultContextEvent<InsightFoldedResult | InsightResult>\n  ) {\n    event.preventDefault();\n    event.stopPropagation();\n    event.detail(this.result);\n  }\n\n  @Listen('atomic/resolveInteractiveResult')\n  public resolveInteractiveResult(event: InteractiveResultContextEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n    if (this.interactiveResult) {\n      event.detail(this.interactiveResult);\n    }\n  }\n\n  @Listen('atomic/resolveStopPropagation')\n  public resolveStopPropagation(event: CustomEvent) {\n    event.detail(this.stopPropagation);\n  }\n\n  @Listen('atomic/resolveResultDisplayConfig')\n  public resolveResultDisplayConfig(event: ResultContextEvent<DisplayConfig>) {\n    event.preventDefault();\n    event.stopPropagation();\n    event.detail({\n      density: this.density,\n      imageSize: this.imageSize!,\n    });\n  }\n\n  public connectedCallback() {\n    this.layout = new ResultLayout(\n      this.content!.children,\n      'list',\n      this.density,\n      this.imageSize\n    );\n  }\n\n  private getContentHTML() {\n    return Array.from(this.content!.children)\n      .map((child) => child.outerHTML)\n      .join('');\n  }\n\n  public render() {\n    return (\n      <Host class={resultComponentClass}>\n        {/* deepcode ignore ReactSetInnerHtml: This is not React code */}\n        <div\n          class={`result-root ${this.layout\n            .getClasses()\n            .concat(this.classes)\n            .join(' ')}`}\n          innerHTML={this.getContentHTML()}\n        ></div>\n      </Host>\n    );\n  }\n\n  public componentDidLoad() {\n    if (this.loadingFlag && this.store) {\n      this.store.unsetLoadingFlag(this.loadingFlag);\n    }\n    applyFocusVisiblePolyfill(this.host);\n  }\n}\n"],"mappings":"6aAAA,MAAMA,EAAyB,uy7G,MCwBlBC,EAAmB,M,yBAkCtBC,KAAAC,QAAgC,SAOhCD,KAAAE,UAAoC,OAKpCF,KAAAG,QAAU,G,+IAZsB,S,eAOI,O,aAK1B,G,2BAQX,aAAAC,CACLC,GAEAA,EAAMC,iBACND,EAAME,kBACNF,EAAMG,OAAOR,KAAKS,O,CAIb,wBAAAC,CAAyBL,GAC9BA,EAAMC,iBACND,EAAME,kBACN,GAAIP,KAAKW,kBAAmB,CAC1BN,EAAMG,OAAOR,KAAKW,kB,EAKf,sBAAAC,CAAuBP,GAC5BA,EAAMG,OAAOR,KAAKO,gB,CAIb,0BAAAM,CAA2BR,GAChCA,EAAMC,iBACND,EAAME,kBACNF,EAAMG,OAAO,CACXP,QAASD,KAAKC,QACdC,UAAWF,KAAKE,W,CAIb,iBAAAY,GACLd,KAAKe,OAAS,IAAIC,EAChBhB,KAAKiB,QAASC,SACd,OACAlB,KAAKC,QACLD,KAAKE,U,CAID,cAAAiB,GACN,OAAOC,MAAMC,KAAKrB,KAAKiB,QAASC,UAC7BI,KAAKC,GAAUA,EAAMC,YACrBC,KAAK,G,CAGH,MAAAC,GACL,OACEC,EAACC,EAAI,CAACC,MAAOC,GAEXH,EAAA,OACEE,MAAO,eAAe7B,KAAKe,OACxBgB,aACAC,OAAOhC,KAAKG,SACZsB,KAAK,OACRQ,UAAWjC,KAAKmB,mB,CAMjB,gBAAAe,GACL,GAAIlC,KAAKmC,aAAenC,KAAKoC,MAAO,CAClCpC,KAAKoC,MAAMC,iBAAiBrC,KAAKmC,Y,CAEnCG,EAA0BtC,KAAKuC,K"}