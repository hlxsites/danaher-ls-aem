{"version":3,"names":["atomicNoResultsCss","AtomicNoResults","this","enableCancelLastAction","initialize","searchStatus","buildSearchStatus","bindings","engine","history","buildHistoryManager","querySummary","buildQuerySummary","renderCancel","historyState","past","length","h","Button","style","part","text","i18n","t","onClick","backOnNoResults","class","render","NoResultsCommon","querySummaryState","searchStatusState","setAriaLive","msg","ariaMessage","__decorate","InitializeBindings","BindStateToController","AriaLiveRegion"],"sources":["src/components/search/atomic-no-results/atomic-no-results.pcss?tag=atomic-no-results&encapsulation=shadow","src/components/search/atomic-no-results/atomic-no-results.tsx"],"sourcesContent":["@import '../../../global/global.pcss';\n","import {\n  buildHistoryManager,\n  HistoryManager,\n  HistoryManagerState,\n  buildSearchStatus,\n  SearchStatus,\n  SearchStatusState,\n  QuerySummary,\n  QuerySummaryState,\n  buildQuerySummary,\n} from '@coveo/headless';\nimport {Component, h, Prop, State} from '@stencil/core';\nimport {AriaLiveRegion} from '../../../utils/accessibility-utils';\nimport {\n  BindStateToController,\n  InitializeBindings,\n} from '../../../utils/initialization-utils';\nimport {Button} from '../../common/button';\nimport {NoResultsCommon} from '../../common/no-results/no-results-common';\nimport {Bindings} from '../atomic-search-interface/atomic-search-interface';\n\n/**\n * The `atomic-no-results` component displays search tips and a \"Cancel last action\" button when there are no results. Any additional content slotted inside of its element will be displayed as well.\n *\n * @part cancel-button - The \"Cancel last action\" button.\n * @part no-results - The text indicating that no results were found for the search.\n * @part search-tips - The search tips to help the user correct the query.\n * @part highlight - The highlighted query.\n * @part icon - The magnifying glass icon.\n */\n@Component({\n  tag: 'atomic-no-results',\n  styleUrl: 'atomic-no-results.pcss',\n  shadow: true,\n})\nexport class AtomicNoResults {\n  @InitializeBindings() public bindings!: Bindings;\n  public searchStatus!: SearchStatus;\n  public history!: HistoryManager;\n  public querySummary!: QuerySummary;\n\n  @BindStateToController('searchStatus')\n  @State()\n  private searchStatusState!: SearchStatusState;\n  @BindStateToController('history')\n  @State()\n  private historyState!: HistoryManagerState;\n  @BindStateToController('querySummary')\n  @State()\n  private querySummaryState!: QuerySummaryState;\n  @State() public error!: Error;\n\n  @AriaLiveRegion('no-results')\n  protected ariaMessage!: string;\n\n  /**\n   * Whether to display a button which cancels the last available action.\n   */\n  @Prop({reflect: true}) enableCancelLastAction = true;\n\n  public initialize() {\n    this.searchStatus = buildSearchStatus(this.bindings.engine);\n    this.history = buildHistoryManager(this.bindings.engine);\n    this.querySummary = buildQuerySummary(this.bindings.engine);\n  }\n\n  private renderCancel() {\n    if (!this.historyState.past.length) {\n      return;\n    }\n\n    return (\n      <Button\n        style=\"primary\"\n        part=\"cancel-button\"\n        text={this.bindings.i18n.t('cancel-last-action')}\n        onClick={() => this.history.backOnNoResults()}\n        class=\"font-bold px-2.5 py-3 my-3\"\n      ></Button>\n    );\n  }\n\n  public render() {\n    return (\n      <NoResultsCommon\n        bindings={this.bindings}\n        querySummaryState={this.querySummaryState}\n        searchStatusState={this.searchStatusState}\n        setAriaLive={(msg) => (this.ariaMessage = msg)}\n      >\n        {this.enableCancelLastAction && this.renderCancel()}\n      </NoResultsCommon>\n    );\n  }\n}\n"],"mappings":"+XAAA,MAAMA,EAAqB,k1gC,iXCmCdC,EAAe,M,yBAuBHC,KAAAC,uBAAyB,K,+IAAA,I,CAEzC,UAAAC,GACLF,KAAKG,aAAeC,EAAkBJ,KAAKK,SAASC,QACpDN,KAAKO,QAAUC,EAAoBR,KAAKK,SAASC,QACjDN,KAAKS,aAAeC,EAAkBV,KAAKK,SAASC,O,CAG9C,YAAAK,GACN,IAAKX,KAAKY,aAAaC,KAAKC,OAAQ,CAClC,M,CAGF,OACEC,EAACC,EAAM,CACLC,MAAM,UACNC,KAAK,gBACLC,KAAMnB,KAAKK,SAASe,KAAKC,EAAE,sBAC3BC,QAAS,IAAMtB,KAAKO,QAAQgB,kBAC5BC,MAAM,8B,CAKL,MAAAC,GACL,OACEV,EAACW,EAAe,CACdrB,SAAUL,KAAKK,SACfsB,kBAAmB3B,KAAK2B,kBACxBC,kBAAmB5B,KAAK4B,kBACxBC,YAAcC,GAAS9B,KAAK+B,YAAcD,GAEzC9B,KAAKC,wBAA0BD,KAAKW,e,GAtDdqB,EAAA,CAA5BC,K,+BAOOD,EAAA,CAFPE,EAAsB,iB,wCAKfF,EAAA,CAFPE,EAAsB,Y,mCAKfF,EAAA,CAFPE,EAAsB,iB,wCAMbF,EAAA,CADTG,EAAe,e"}